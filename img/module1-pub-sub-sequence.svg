<svg width="600" height="400" xmlns="http://www.w3.org/2000/svg">
  <style>
    .actor { fill: #f9f9f9; stroke: #333; stroke-width: 2; }
    .text { font-family: sans-serif; font-size: 14px; text-anchor: middle; }
    .title { font-family: sans-serif; font-size: 18px; text-anchor: middle; font-weight: bold; }
    .arrow { stroke: #333; stroke-width: 2; marker-end: url(#arrowhead); }
    .lifeline { stroke: #333; stroke-dasharray: 5,5; }
  </style>

  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" />
    </marker>
  </defs>

  <text x="300" y="30" class="title">ROS 2 Publisher/Subscriber Sequence</text>

  <!-- Publisher Actor -->
  <rect x="50" y="50" width="100" height="40" class="actor" />
  <text x="100" y="75" class="text">Publisher</text>
  <line x1="100" y1="90" x2="100" y2="350" class="lifeline" />

  <!-- ROS 2 DDS -->
  <rect x="250" y="50" width="100" height="40" class="actor" />
  <text x="300" y="75" class="text">ROS 2 DDS</text>
  <line x1="300" y1="90" x2="300" y2="350" class="lifeline" />
  
  <!-- Subscriber Actor -->
  <rect x="450" y="50" width="100" height="40" class="actor" />
  <text x="500" y="75" class="text">Subscriber</text>
  <line x1="500" y1="90" x2="500" y2="350" class.lifeline" />

  <!-- Create Publisher -->
  <line x1="100" y1="120" x2="300" y2="120" class="arrow" />
  <text x="200" y="115" class="text">1. create_publisher()</text>
  
  <!-- Create Subscription -->
  <line x1="500" y1="150" x2="300" y2="150" class="arrow" />
  <text x="400" y="145" class="text">2. create_subscription()</text>
  
  <!-- DDS Discovery -->
  <line x1="300" y1="180" x2="300" y2="200" class="arrow" />
  <text x="350" y="195" class="text">3. Discovery</text>
  
  <!-- Publish Message -->
  <line x1="100" y1="230" x2="300" y2="230" class="arrow" />
  <text x="200" y="225" class="text">4. publish(msg)</text>
  
  <!-- DDS Delivers Message -->
  <line x1="300" y1="260" x2="500" y2="260" class="arrow" />
  <text x="400" y="255" class="text">5. DDS Delivers Data</text>
  
  <!-- Subscriber Callback -->
  <line x1="500" y1="290" x2="500" y2="310" class="arrow" />
  <text x="550" y="305" class="text">6. Callback</text>

</svg>
