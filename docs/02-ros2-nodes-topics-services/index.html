<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-02-ros2-nodes-topics-services">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Chapter 2: Nodes, Topics, Services, and Actions | Physical AI &amp; Humanoid Robotics Textbook</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://mukarram-one.github.io/AI-driven-development/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://mukarram-one.github.io/AI-driven-development/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://mukarram-one.github.io/AI-driven-development/docs/02-ros2-nodes-topics-services"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Chapter 2: Nodes, Topics, Services, and Actions | Physical AI &amp; Humanoid Robotics Textbook"><meta data-rh="true" name="description" content="Chapter 2: Nodes, Topics, Services, and Actions"><meta data-rh="true" property="og:description" content="Chapter 2: Nodes, Topics, Services, and Actions"><link data-rh="true" rel="icon" href="/AI-driven-development/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://mukarram-one.github.io/AI-driven-development/docs/02-ros2-nodes-topics-services"><link data-rh="true" rel="alternate" href="https://mukarram-one.github.io/AI-driven-development/docs/02-ros2-nodes-topics-services" hreflang="en"><link data-rh="true" rel="alternate" href="https://mukarram-one.github.io/AI-driven-development/docs/02-ros2-nodes-topics-services" hreflang="x-default"><link rel="stylesheet" href="/AI-driven-development/assets/css/styles.e20a1d3c.css">
<link rel="preload" href="/AI-driven-development/assets/js/runtime~main.89490a50.js" as="script">
<link rel="preload" href="/AI-driven-development/assets/js/main.7667b83c.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="navbarWithSearch_YpgG"><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/AI-driven-development/"><div class="navbar__logo"><img src="/AI-driven-development/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/AI-driven-development/img/logo.svg" alt="My Site Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Physical AI &amp; Humanoid Robotics</b></a><a class="navbar__item navbar__link" href="/AI-driven-development/docs/01-intro-to-ros2">Textbook</a><div class="navbar__item dropdown dropdown--hoverable"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Modules</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/AI-driven-development/docs/01-intro-to-ros2">Module 1: ROS 2</a></li><li><a class="dropdown__link" href="/AI-driven-development/docs/04-urdf-for-humanoids">Module 2: Digital Twin</a></li><li><a class="dropdown__link" href="/AI-driven-development/docs/08-isaac-sim-intro">Module 3: AI-Robot Brain</a></li><li><a class="dropdown__link" href="/AI-driven-development/docs/11-vla-whisper">Module 4: VLA</a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Contact</a><ul class="dropdown__menu"><li><a href="https://github.com/MUKARRAM-ONE/AI-driven-development" target="_blank" rel="noopener noreferrer" class="dropdown__link">GitHub (repo)<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://www.linkedin.com/in/mukarram-razzaq-0146572ba/" target="_blank" rel="noopener noreferrer" class="dropdown__link">LinkedIn<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="searchBarContainer_tbC_"><div class="searchContainer_m8Un navbarSearch_coep"><form class="searchForm_lOPD"><input placeholder="Search" class="searchInput_YvXG"><div class="keyboardShortcut_Fdvq"><span class="keyboardKey_KPz3">Ctrl</span><span>K</span></div><button type="submit" class="searchButton_Xl1N">üîç</button></form></div></div></div><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/01-intro-to-ros2">1. Introduction to ROS 2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/AI-driven-development/docs/02-ros2-nodes-topics-services">2. Nodes, Topics, &amp; Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/03-python-rclpy-integration">3. Building with rclpy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/04-urdf-for-humanoids">4. URDF for Humanoids</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/05-gazebo-fundamentals">5. Gazebo Fundamentals</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/06-unity-integration">6. Unity Integration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/07-sensor-simulation">7. Sensor Simulation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/08-isaac-sim-intro">8. NVIDIA Isaac Sim Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/09-isaac-ros-vslam">9. Isaac ROS and VSLAM</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/10-nav2-path-planning">10. Nav2 Path Planning</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/11-vla-whisper">11. Voice-to-Action with Whisper</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/12-vla-llm-planning">12. Cognitive Planning with LLMs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/AI-driven-development/docs/13-capstone-project">13. Capstone: Autonomous Humanoid Robot</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/AI-driven-development/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">2. Nodes, Topics, &amp; Actions</span><meta itemprop="position" content="1"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Chapter 2: Nodes, Topics, Services, and Actions</h1></header><h2 class="anchor anchorWithStickyNavbar_LWe7" id="chapter-2-nodes-topics-services-and-actions">Chapter 2: Nodes, Topics, Services, and Actions<a href="#chapter-2-nodes-topics-services-and-actions" class="hash-link" aria-label="Direct link to Chapter 2: Nodes, Topics, Services, and Actions" title="Direct link to Chapter 2: Nodes, Topics, Services, and Actions">‚Äã</a></h2><p><strong>Objective</strong>: Master the fundamental communication patterns in ROS 2 and learn how to inspect them from the command line.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="21-the-ros-2-graph-and-the-anatomy-of-a-node">2.1 The ROS 2 Graph and the Anatomy of a Node<a href="#21-the-ros-2-graph-and-the-anatomy-of-a-node" class="hash-link" aria-label="Direct link to 2.1 The ROS 2 Graph and the Anatomy of a Node" title="Direct link to 2.1 The ROS 2 Graph and the Anatomy of a Node">‚Äã</a></h3><p>The &quot;ROS Graph&quot; is the network of all the ROS 2 elements processing data together. It&#x27;s best imagined as a dynamic web of independent programs that find and talk to each other. The core components of this graph are <strong>Nodes</strong>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="what-is-a-node">What is a Node?<a href="#what-is-a-node" class="hash-link" aria-label="Direct link to What is a Node?" title="Direct link to What is a Node?">‚Äã</a></h4><p>A <strong>Node</strong> is the fundamental processing unit in ROS. Think of it as a small, specialized worker in a large factory. Each node should have a single, clearly defined purpose, such as:</p><ul><li>Controlling the motors for the left wheel.</li><li>Publishing data from a LiDAR sensor.</li><li>Calculating a path for the robot to follow.</li><li>Monitoring the robot&#x27;s battery level.</li></ul><p>This modular philosophy is a cornerstone of ROS development. By breaking a complex system down into simple, reusable nodes, your software becomes easier to debug, maintain, and repurpose for future projects.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="node-lifecycle-building-robust-systems">Node Lifecycle: Building Robust Systems<a href="#node-lifecycle-building-robust-systems" class="hash-link" aria-label="Direct link to Node Lifecycle: Building Robust Systems" title="Direct link to Node Lifecycle: Building Robust Systems">‚Äã</a></h4><p>In complex robotic applications, simply starting and stopping nodes isn&#x27;t enough. We need to control their state in a more granular way. For this, ROS 2 provides a standard state machine called the <strong>Lifecycle</strong> system, available to nodes that inherit from <code>rclpy.lifecycle.LifecycleNode</code>. These &quot;Managed Nodes&quot; have a defined set of states, ensuring predictable and robust behavior.</p><p><img loading="lazy" alt="A diagram of the ROS 2 Node Lifecycle" src="/AI-driven-development/assets/images/node_lifecycle-ca99524aefc2b9cd164db75f4cdb3c22.jpeg" width="1418" height="645" class="img_ev3q"></p><p>The primary states are:</p><ul><li><strong>Unconfigured</strong>: The default state. The node exists as an object but has not allocated any resources or set up its communication channels.</li><li><strong>Inactive</strong>: The node has been configured and is ready, but it is not actively processing data. In this state, you can reconfigure parameters without affecting the rest of the system.</li><li><strong>Active</strong>: The node is running and performing all its tasks: publishing messages, responding to services, etc. This is the main operational state.</li><li><strong>Finalized</strong>: The terminal state before the node is destroyed.</li></ul><p>This state machine allows a system supervisor to bring up, shut down, and reconfigure a complex network of nodes in an orderly fashion, which is critical for fault tolerance and system recovery.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="node-composition-the-best-of-both-worlds">Node Composition: The Best of Both Worlds<a href="#node-composition-the-best-of-both-worlds" class="hash-link" aria-label="Direct link to Node Composition: The Best of Both Worlds" title="Direct link to Node Composition: The Best of Both Worlds">‚Äã</a></h4><p>While running each node in a separate operating system process provides excellent isolation (a crash in one node doesn&#x27;t bring down others), it comes with performance overhead. In ROS 2, you can use <strong>Composition</strong> to combine multiple nodes into a single process. This allows them to communicate more efficiently by passing data directly in memory, bypassing the networking stack entirely, while still maintaining the logical separation of nodes in your code. This gives you the modular code design of multiple nodes with the performance of a single, optimized program.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="22-the-publisher-subscriber-pattern-topics">2.2 The Publisher-Subscriber Pattern (Topics)<a href="#22-the-publisher-subscriber-pattern-topics" class="hash-link" aria-label="Direct link to 2.2 The Publisher-Subscriber Pattern (Topics)" title="Direct link to 2.2 The Publisher-Subscriber Pattern (Topics)">‚Äã</a></h3><p>The most common communication pattern in ROS is the <strong>Publisher-Subscriber</strong> model, implemented via <strong>Topics</strong>. This model is anonymous and asynchronous.</p><ul><li>A node that produces data <strong>publishes</strong> it to a named topic.</li><li>A node that needs that data <strong>subscribes</strong> to that topic.</li><li>There can be many publishers and many subscribers on a single topic.</li></ul><p>Crucially, the publishing node has no knowledge of who is subscribing, and subscribers don&#x27;t know who is publishing. They are completely decoupled. This makes for a very flexible and reconfigurable system.</p><p><img loading="lazy" alt="A diagram showing a Publisher node sending a message to a Topic, and two Subscriber nodes receiving that message." src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8c3R5bGU+CiAgICAuYWN0b3IgeyBmaWxsOiAjZjlmOWY5OyBzdHJva2U6ICMzMzM7IHN0cm9rZS13aWR0aDogMjsgfQogICAgLnRleHQgeyBmb250LWZhbWlseTogc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxNHB4OyB0ZXh0LWFuY2hvcjogbWlkZGxlOyB9CiAgICAudGl0bGUgeyBmb250LWZhbWlseTogc2Fucy1zZXJpZjsgZm9udC1zaXplOiAxOHB4OyB0ZXh0LWFuY2hvcjogbWlkZGxlOyBmb250LXdlaWdodDogYm9sZDsgfQogICAgLmFycm93IHsgc3Ryb2tlOiAjMzMzOyBzdHJva2Utd2lkdGg6IDI7IG1hcmtlci1lbmQ6IHVybCgjYXJyb3doZWFkKTsgfQogICAgLmxpZmVsaW5lIHsgc3Ryb2tlOiAjMzMzOyBzdHJva2UtZGFzaGFycmF5OiA1LDU7IH0KICA8L3N0eWxlPgoKICA8ZGVmcz4KICAgIDxtYXJrZXIgaWQ9ImFycm93aGVhZCIgbWFya2VyV2lkdGg9IjEwIiBtYXJrZXJIZWlnaHQ9IjciIHJlZlg9IjAiIHJlZlk9IjMuNSIgb3JpZW50PSJhdXRvIj4KICAgICAgPHBvbHlnb24gcG9pbnRzPSIwIDAsIDEwIDMuNSwgMCA3IiAvPgogICAgPC9tYXJrZXI+CiAgPC9kZWZzPgoKICA8dGV4dCB4PSIzMDAiIHk9IjMwIiBjbGFzcz0idGl0bGUiPlJPUyAyIFB1Ymxpc2hlci9TdWJzY3JpYmVyIFNlcXVlbmNlPC90ZXh0PgoKICA8IS0tIFB1Ymxpc2hlciBBY3RvciAtLT4KICA8cmVjdCB4PSI1MCIgeT0iNTAiIHdpZHRoPSIxMDAiIGhlaWdodD0iNDAiIGNsYXNzPSJhY3RvciIgLz4KICA8dGV4dCB4PSIxMDAiIHk9Ijc1IiBjbGFzcz0idGV4dCI+UHVibGlzaGVyPC90ZXh0PgogIDxsaW5lIHgxPSIxMDAiIHkxPSI5MCIgeDI9IjEwMCIgeTI9IjM1MCIgY2xhc3M9ImxpZmVsaW5lIiAvPgoKICA8IS0tIFJPUyAyIEREUyAtLT4KICA8cmVjdCB4PSIyNTAiIHk9IjUwIiB3aWR0aD0iMTAwIiBoZWlnaHQ9IjQwIiBjbGFzcz0iYWN0b3IiIC8+CiAgPHRleHQgeD0iMzAwIiB5PSI3NSIgY2xhc3M9InRleHQiPlJPUyAyIEREUzwvdGV4dD4KICA8bGluZSB4MT0iMzAwIiB5MT0iOTAiIHgyPSIzMDAiIHkyPSIzNTAiIGNsYXNzPSJsaWZlbGluZSIgLz4KICAKICA8IS0tIFN1YnNjcmliZXIgQWN0b3IgLS0+CiAgPHJlY3QgeD0iNDUwIiB5PSI1MCIgd2lkdGg9IjEwMCIgaGVpZ2h0PSI0MCIgY2xhc3M9ImFjdG9yIiAvPgogIDx0ZXh0IHg9IjUwMCIgeT0iNzUiIGNsYXNzPSJ0ZXh0Ij5TdWJzY3JpYmVyPC90ZXh0PgogIDxsaW5lIHgxPSI1MDAiIHkxPSI5MCIgeDI9IjUwMCIgeTI9IjM1MCIgY2xhc3MubGlmZWxpbmUiIC8+CgogIDwhLS0gQ3JlYXRlIFB1Ymxpc2hlciAtLT4KICA8bGluZSB4MT0iMTAwIiB5MT0iMTIwIiB4Mj0iMzAwIiB5Mj0iMTIwIiBjbGFzcz0iYXJyb3ciIC8+CiAgPHRleHQgeD0iMjAwIiB5PSIxMTUiIGNsYXNzPSJ0ZXh0Ij4xLiBjcmVhdGVfcHVibGlzaGVyKCk8L3RleHQ+CiAgCiAgPCEtLSBDcmVhdGUgU3Vic2NyaXB0aW9uIC0tPgogIDxsaW5lIHgxPSI1MDAiIHkxPSIxNTAiIHgyPSIzMDAiIHkyPSIxNTAiIGNsYXNzPSJhcnJvdyIgLz4KICA8dGV4dCB4PSI0MDAiIHk9IjE0NSIgY2xhc3M9InRleHQiPjIuIGNyZWF0ZV9zdWJzY3JpcHRpb24oKTwvdGV4dD4KICAKICA8IS0tIEREUyBEaXNjb3ZlcnkgLS0+CiAgPGxpbmUgeDE9IjMwMCIgeTE9IjE4MCIgeDI9IjMwMCIgeTI9IjIwMCIgY2xhc3M9ImFycm93IiAvPgogIDx0ZXh0IHg9IjM1MCIgeT0iMTk1IiBjbGFzcz0idGV4dCI+My4gRGlzY292ZXJ5PC90ZXh0PgogIAogIDwhLS0gUHVibGlzaCBNZXNzYWdlIC0tPgogIDxsaW5lIHgxPSIxMDAiIHkxPSIyMzAiIHgyPSIzMDAiIHkyPSIyMzAiIGNsYXNzPSJhcnJvdyIgLz4KICA8dGV4dCB4PSIyMDAiIHk9IjIyNSIgY2xhc3M9InRleHQiPjQuIHB1Ymxpc2gobXNnKTwvdGV4dD4KICAKICA8IS0tIEREUyBEZWxpdmVycyBNZXNzYWdlIC0tPgogIDxsaW5lIHgxPSIzMDAiIHkxPSIyNjAiIHgyPSI1MDAiIHkyPSIyNjAiIGNsYXNzPSJhcnJvdyIgLz4KICA8dGV4dCB4PSI0MDAiIHk9IjI1NSIgY2xhc3M9InRleHQiPjUuIEREUyBEZWxpdmVycyBEYXRhPC90ZXh0PgogIAogIDwhLS0gU3Vic2NyaWJlciBDYWxsYmFjayAtLT4KICA8bGluZSB4MT0iNTAwIiB5MT0iMjkwIiB4Mj0iNTAwIiB5Mj0iMzEwIiBjbGFzcz0iYXJyb3ciIC8+CiAgPHRleHQgeD0iNTUwIiB5PSIzMDUiIGNsYXNzPSJ0ZXh0Ij42LiBDYWxsYmFjazwvdGV4dD4KCjwvc3ZnPgo=" width="600" height="400" class="img_ev3q"></p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="defining-messages-msg-files">Defining Messages (<code>.msg</code> files)<a href="#defining-messages-msg-files" class="hash-link" aria-label="Direct link to defining-messages-msg-files" title="Direct link to defining-messages-msg-files">‚Äã</a></h4><p>The data sent on topics is defined in <code>.msg</code> files. These are simple text files that define the data structure. For example, a custom message to report a robot&#x27;s battery state might be:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain"># file: my_robot_interfaces/msg/BatteryState.msg</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">std_msgs/Header header</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">float32 voltage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">float32 percentage</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">bool is_charging</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This defines a message with a timestamp (<code>header</code>), a <code>voltage</code>, a <code>percentage</code>, and a boolean <code>is_charging</code> status. When you build your workspace, ROS 2 automatically generates the corresponding code (Python class or C++ struct) for you to use in your nodes.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="code-breakdown-publisher-and-subscriber">Code Breakdown: Publisher and Subscriber<a href="#code-breakdown-publisher-and-subscriber" class="hash-link" aria-label="Direct link to Code Breakdown: Publisher and Subscriber" title="Direct link to Code Breakdown: Publisher and Subscriber">‚Äã</a></h4><p>Below is a line-by-line explanation of the simple publisher from the <code>src</code> directory.</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> rclpy</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">node </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> Node</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">from</span><span class="token plain"> std_msgs</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">msg </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">import</span><span class="token plain"> String</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">class</span><span class="token plain"> </span><span class="token class-name">SimplePublisher</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">Node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 1. Initialize the Node with a name</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token builtin" style="color:rgb(189, 147, 249)">super</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;simple_publisher&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 2. Create a publisher. </span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">#    Args: message type, topic name, and QoS &quot;history depth&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">publisher_ </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">create_publisher</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;chatter&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 3. Create a timer to trigger the callback every 1.0 second</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">timer </span><span class="token operator">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">create_timer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1.0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">timer_callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&#x27;Publisher has been started.&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">timer_callback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 4. Create a message object</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        msg </span><span class="token operator">=</span><span class="token plain"> String</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        msg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">data </span><span class="token operator">=</span><span class="token plain"> </span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&quot;Hello World: </span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">self</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">get_clock</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">now</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)"># 5. Publish the message</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">publisher_</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">publish</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">msg</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        self</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">get_logger</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">info</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">f&#x27;Publishing: &quot;</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token string-interpolation interpolation">msg</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token string-interpolation interpolation">data</span><span class="token string-interpolation interpolation punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token string-interpolation string" style="color:rgb(255, 121, 198)">&quot;&#x27;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">main</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">args</span><span class="token operator">=</span><span class="token boolean">None</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 6. Initialize the rclpy library</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">init</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">args</span><span class="token operator">=</span><span class="token plain">args</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 7. Create an instance of the node</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    simple_publisher </span><span class="token operator">=</span><span class="token plain"> SimplePublisher</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 8. &quot;Spin&quot; the node, which allows it to process callbacks</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">spin</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">simple_publisher</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token comment" style="color:rgb(98, 114, 164)"># 9. Clean up when spin is interrupted (e.g., by Ctrl+C)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    simple_publisher</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">destroy_node</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    rclpy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">shutdown</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The <code>rclpy.spin()</code> function is the heart of a ROS 2 node. It enters a loop, waiting for and executing any pending work, such as a timer firing or a message arriving on a subscribed topic.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="23-the-service-request-response-pattern">2.3 The Service (Request-Response) Pattern<a href="#23-the-service-request-response-pattern" class="hash-link" aria-label="Direct link to 2.3 The Service (Request-Response) Pattern" title="Direct link to 2.3 The Service (Request-Response) Pattern">‚Äã</a></h3><p>While topics are great for streaming data, they aren&#x27;t suitable for remote procedure calls (RPCs) where you need a direct, two-way exchange. For this, ROS provides <strong>Services</strong>. A service has two parts: a <strong>request</strong> and a <strong>response</strong>. One node acts as a service server, and another acts as a service client.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="synchronous-vs-asynchronous-clients">Synchronous vs. Asynchronous Clients<a href="#synchronous-vs-asynchronous-clients" class="hash-link" aria-label="Direct link to Synchronous vs. Asynchronous Clients" title="Direct link to Synchronous vs. Asynchronous Clients">‚Äã</a></h4><p>A key decision when using a service is whether the client should be synchronous or asynchronous.</p><ul><li><strong>Synchronous</strong>: The client sends a request and <em>blocks</em>, waiting until the server sends a response. This is simpler to program but can freeze your node if the service takes a long time.</li><li><strong>Asynchronous</strong>: The client sends a request and immediately returns a &quot;future&quot; object. It can continue doing other work. It can periodically check if the future is complete or attach a callback function that will be executed when the response arrives. This is more complex but far more efficient.</li></ul><p>The example in <code>simple_service_client.py</code> simulates a synchronous call by using <code>rclpy.spin_until_future_complete</code>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="24-actions-for-long-running-preemptible-tasks">2.4 Actions: For Long-Running, Preemptible Tasks<a href="#24-actions-for-long-running-preemptible-tasks" class="hash-link" aria-label="Direct link to 2.4 Actions: For Long-Running, Preemptible Tasks" title="Direct link to 2.4 Actions: For Long-Running, Preemptible Tasks">‚Äã</a></h3><p>What happens when a task takes a long time and you need to monitor its progress or maybe cancel it? A service is a poor choice because it would block for too long. A topic doesn&#x27;t provide feedback or a final result. This is the exact problem that <strong>Actions</strong> are designed to solve.</p><p>An Action is the most complex communication type, perfect for goal-oriented, long-running behaviors like:</p><ul><li>&quot;Navigate to the kitchen.&quot;</li><li>&quot;Rotate the robot 360 degrees.&quot;</li><li>&quot;Pick up the red cube.&quot;</li></ul><p>The client can also send a cancel request at any time. This multi-part, non-blocking communication makes actions the ideal choice for any robotic task that isn&#x27;t instantaneous.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="25-ros-2-cli-introspection-and-debugging">2.5 ROS 2 CLI: Introspection and Debugging<a href="#25-ros-2-cli-introspection-and-debugging" class="hash-link" aria-label="Direct link to 2.5 ROS 2 CLI: Introspection and Debugging" title="Direct link to 2.5 ROS 2 CLI: Introspection and Debugging">‚Äã</a></h3><p>A deep understanding of the ROS 2 command-line interface (CLI) is essential for debugging. It allows you to inspect every part of a running ROS system.</p><ul><li><code>ros2 node list</code>: Lists all active nodes.</li><li><code>ros2 node info &lt;node_name&gt;</code>: Shows a node&#x27;s publishers, subscribers, services, and actions.</li><li><code>ros2 topic list</code>: Lists all active topics.</li><li><code>ros2 topic echo &lt;topic_name&gt;</code>: Prints the full message data being published to a topic in real time.</li><li><code>ros2 topic hz &lt;topic_name&gt;</code>: Measures the publishing frequency of a topic.</li><li><code>ros2 topic pub &lt;topic_name&gt; &lt;msg_type&gt; &#x27;&lt;args&gt;&#x27;</code>: Publishes a single message to a topic from the command line.</li><li><code>ros2 service list</code>: Lists all active services.</li><li><code>ros2 service call &lt;service_name&gt; &lt;service_type&gt; &#x27;&lt;args&gt;&#x27;</code>: Calls a service from the command line.</li><li><code>ros2 action list</code>: Lists all active actions.</li><li><code>ros2 action send_goal &lt;action_name&gt; &lt;action_type&gt; &#x27;&lt;args&gt;&#x27;</code>: Sends a goal to an action server.</li><li><code>ros2 interface show &lt;msg_type&gt;</code>: Shows the fields of a message, service, or action type.</li><li><code>ros2 graph</code>: A powerful tool that can provide a text-based description of the graph connections. This output can be redirected to generate a visual diagram.</li></ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ai-driven-development/AI_Robotics_book/tree/main/docs/02-ros2-nodes-topics-services.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vwxv"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/AI-driven-development/docs/01-intro-to-ros2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">1. Introduction to ROS 2</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/AI-driven-development/docs/03-python-rclpy-integration"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">3. Building with rclpy</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#chapter-2-nodes-topics-services-and-actions" class="table-of-contents__link toc-highlight">Chapter 2: Nodes, Topics, Services, and Actions</a><ul><li><a href="#21-the-ros-2-graph-and-the-anatomy-of-a-node" class="table-of-contents__link toc-highlight">2.1 The ROS 2 Graph and the Anatomy of a Node</a></li><li><a href="#22-the-publisher-subscriber-pattern-topics" class="table-of-contents__link toc-highlight">2.2 The Publisher-Subscriber Pattern (Topics)</a></li><li><a href="#23-the-service-request-response-pattern" class="table-of-contents__link toc-highlight">2.3 The Service (Request-Response) Pattern</a></li><li><a href="#24-actions-for-long-running-preemptible-tasks" class="table-of-contents__link toc-highlight">2.4 Actions: For Long-Running, Preemptible Tasks</a></li><li><a href="#25-ros-2-cli-introspection-and-debugging" class="table-of-contents__link toc-highlight">2.5 ROS 2 CLI: Introspection and Debugging</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Textbook</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/AI-driven-development/docs/01-intro-to-ros2">Introduction</a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/MUKARRAM-ONE/AI-driven-development/tree/main/AI_Robotics_book" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 Created by Mukarram Razzaq Using AI Spec Driven Development. Built with Docusaurus.</div></div></div></footer></div></div>
<script src="/AI-driven-development/assets/js/runtime~main.89490a50.js"></script>
<script src="/AI-driven-development/assets/js/main.7667b83c.js"></script>
</body>
</html>